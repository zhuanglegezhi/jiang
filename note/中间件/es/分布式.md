集群状态

- **`green`**：所有的主分片和副本分片都正常运行。

- **`yellow`**：所有的主分片都正常运行，但不是所有的副本分片都正常运行。

- **`red`**：有主分片没能正常运行



分片

在索引建立的时候就已经确定了主分片数，但是副本分片数可以随时修改。



路由

```
shard = hash(routing) % number_of_primary_shards
// 这就解释了为什么我们要在创建索引的时候就确定好主分片的数量 并且永远不会改变这个数量：因为如果数量变化了，那么所有之前路由的值都会无效，文档也再也找不到了。
```

