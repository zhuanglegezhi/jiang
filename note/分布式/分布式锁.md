### 特点

- **互斥性：** 分布式锁要保证在多个客户端之间的互斥。
- **可重入性：**同一客户端的相同线程，允许重复多次加锁。
- **锁超时：**和本地锁一样支持锁超时，防止死锁。
- **非阻塞：** 能与 ReentrantLock 一样支持 trylock() 非阻塞方式获得锁。
- **支持公平锁和非公平锁：**公平锁是指按照请求加锁的顺序获得锁，非公平锁请求加锁是无序的。



### 分布式锁实现

#### 1、数据库

- 悲观锁（排他锁）
  - `select * from table where xx=yy for update`
  - 需要加事务，必须要保证这一系列操作的原子性
- 乐观锁



#### 2、Redis

- 基于SetNX实现分布式锁


#### 3、Zookeeper





refer: 

https://juejin.cn/post/6844903729406148622
